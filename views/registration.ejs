<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Sign up</title>
    <link rel="icon" href="/img/sg_finance_toolkit.png" type="image/x-icon">
    <!--Custom styles for this login page-->
    <link href="loginstyle.css" rel="stylesheet" />
    <!--Bootstrap core CSS-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <meta
      name="description"
      content="A finance page covering topics related to finance in Singapore"
    />
    <meta name="keywords" content="angelhack finance singapore" />
    <meta charset="utf-8" />
    <!-- this sets the width of the page to follow screen-width of device, and sets the initial zoom level when page is first loaded-->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <div class="container-fluid">
    <body class="text-center">
      <!--NavBar-->
      <nav
        class="navbar navbar-expand-lg navbar-light bg-light fixed-top navbar-override"
      >
        <img src="img/sg_finance_toolkit.png" alt="SG Finance Toolkit Logo" class="logo-img">
        <a class="navbar-brand" href="#">SG Finance Toolkit</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarTogglerDemo02"
          aria-controls="navbarTogglerDemo02"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item active">
              <a class="nav-link" href="/" onclick="home()">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Help</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Contact</a>
            </li>
          </ul>
        </div>
      </nav>
      <!-- End of top navbar-->
      <!-- registration stuff here -->
      <main class="form-signin">
        <!--This activates the registration in auth.js-->
        <form action="/registration" method="post">
          <!--Insert logo here-->
          <!-- <img class="mb-4" src="" alt="" width="72" height="57" /> -->
          <h1 class="h3 mb-3 fw-normal">Make an account</h1>
          <% if (dupUser) { %>
          <p class="text-danger" style="font-size: 12px">
            Registration failed! This username is already taken!
          </p>
          <% } %>
          <div class="form-floating">
            <input
              type="text"
              class="form-control"
              id="floatingInput"
              placeholder="Username"
              name="username"
              autocomplete="off"
              minlength="6"
              maxlength="30"
              required
            />
            <label for="floatingInput">Username</label>
          </div>
          <div class="form-floating">
            <input
              type="password"
              class="form-control"
              id="floatingPassword"
              placeholder="Password"
              name="password"
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$"
              required
            />
            <label for="floatingPassword">Password</label>
          </div>
          <div id="message">
            <div>
              <p>Password must contain the following:</p>
              <p id="letter"><b>Lowercase</b> letter</p>
              <p id="capital"><b>Uppercase</b> letter</p>
              <p id="number"><b>Number</b></p>
              <p id="length">Minimum <b>8 characters</b></p>
            </div>
          </div>

          <button class="w-100 btn btn-lg btn-primary" type="submit">
            Create account
          </button>
        </form>

        <div>
          <p>
            Have an account?
            <a href="/login">Log in</a>
          </p>
        </div>

        <div id="specialEffects">
          <ul>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
      </main>
      <!--Some bootstrap components require these js scripts to function-->
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"
      ></script>
      <script>
        let input = document.getElementById('floatingPassword');
        let letter = document.getElementById("letter");
        let capital = document.getElementById("capital");
        let number = document.getElementById("number");
        let length = document.getElementById("length");

        input.onfocus = function() {
          document.getElementById("message").style.display = "block";
        }
        input.onblur = function() {
          document.getElementById("message").style.display = "none";
        }
        input.onkeyup = function() {
          let lowerCaseLetters = /[a-z]/g;
          if(input.value.match(lowerCaseLetters)) {
            letter.classList.add("valid");
          } else {
            letter.classList.remove("valid");
          }
          let upperCaseLetters = /[A-Z]/g;
          if(input.value.match(upperCaseLetters)) {
            capital.classList.add("valid");
          } else {
            capital.classList.remove("valid");
          }
          let numbers = /[0-9]/g;
          if(input.value.match(numbers)) {
            number.classList.add("valid");
          } else {
            number.classList.remove("valid");
          }
          if(input.value.length >= 8) {
            length.classList.add("valid");
          } else {
            length.classList.remove("valid");
          }
        }

      </script>
    </body>
  </div>
</html>
